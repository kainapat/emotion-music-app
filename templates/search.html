{% extends "layout.html" %}

{% block title %}‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏û‡∏•‡∏á - Emotion Path{% endblock title %}

{% block content %}
<div class="max-w-4xl mx-auto">
  <!-- ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ -->
  <div class="mb-6">
    <h2 class="text-2xl font-semibold mb-2">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏û‡∏•‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå</h2>
    <p class="text-gray-600">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏û‡∏•‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏†‡∏≤‡∏©‡∏≤‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥ ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏•‡∏π‡∏Å‡∏®‡∏£ (‚Üí) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏∏‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡∏≠‡∏á‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå</p>
  </div>

  <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ -->
  <form method="post" class="mb-8">
    <div class="relative">
      <input name="query" 
             value="{{ request.form['query'] or '' }}"
             placeholder="‡∏•‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤: ‡πÄ‡∏û‡∏•‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏®‡∏£‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏±‡∏á"
             class="w-full p-4 pr-32 border-2 border-purple-200 rounded-lg focus:border-purple-500 focus:outline-none">
      <button class="absolute right-2 top-2 px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:opacity-90 transition-opacity">
        ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
      </button>
    </div>
  </form>

  <!-- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ -->
  <div class="bg-purple-50 rounded-lg p-6 mb-8">
    <h3 class="font-semibold mb-3">üí° ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤:</h3>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <!-- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÅ‡∏ö‡∏ö‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥ -->
      <!-- ‡πÄ‡∏û‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏°‡∏≤‡∏Å -->
      <div>
        <p class="font-medium mb-2">‡πÄ‡∏û‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ Transition ‡πÄ‡∏î‡πà‡∏ô:</p>
        <ul class="space-y-2 text-gray-600">
          <li class="hover:text-purple-600 cursor-pointer" onclick="setQuery(this)">
            ‚Ä¢ neutral ‚Üí excited ‚Üí sad ‚Üí excited
          </li>
          <li class="hover:text-purple-600 cursor-pointer" onclick="setQuery(this)">
            ‚Ä¢ ‡πÄ‡∏û‡∏•‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡πÄ‡∏®‡∏£‡πâ‡∏≤ ‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏±‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÄ‡∏®‡∏£‡πâ‡∏≤‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
          </li>
          <li class="hover:text-purple-600 cursor-pointer" onclick="setQuery(this)">
            ‚Ä¢ angry ‚Üí excited ‚Üí neutral ‚Üí excited ‚Üí neutral ‚Üí sad
          </li>
          <li class="hover:text-purple-600 cursor-pointer" onclick="setQuery(this)">
            ‚Ä¢ Song with multiple emotional changes from sad to neutral to excited
          </li>
        </ul>
      </div>

      <!-- ‡πÄ‡∏û‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏Ñ‡∏á‡∏ó‡∏µ‡πà -->
      <div>
        <p class="font-medium mb-2">‡πÄ‡∏û‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏Ñ‡∏á‡∏ó‡∏µ‡πà:</p>
        <ul class="space-y-2 text-gray-600">
          <li class="hover:text-purple-600 cursor-pointer" onclick="setQuery(this)">
            ‚Ä¢ ‡πÄ‡∏û‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡πÄ‡∏®‡∏£‡πâ‡∏≤‡∏ï‡∏•‡∏≠‡∏î‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏û‡∏•‡∏á
          </li>
          <li class="hover:text-purple-600 cursor-pointer" onclick="setQuery(this)">
            ‚Ä¢ Looking for a consistently neutral song
          </li>
          <li class="hover:text-purple-600 cursor-pointer" onclick="setQuery(this)">
            ‚Ä¢ ‡πÄ‡∏û‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå excited ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á
          </li>
          <li class="hover:text-purple-600 cursor-pointer" onclick="setQuery(this)">
            ‚Ä¢ Song with stable lonely emotion throughout
          </li>
        </ul>
      </div>

      <!-- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏ú‡∏™‡∏° -->
      <div>
        <p class="font-medium mb-2">Mixed Format (‡πÑ‡∏ó‡∏¢/ENG):</p>
        <ul class="space-y-2 text-gray-600">
          <li class="hover:text-purple-600 cursor-pointer" onclick="setQuery(this)">
            ‚Ä¢ lonely ‚Üí neutral ‚Üí lonely ‚Üí neutral ‚Üí lonely
          </li>
          <li class="hover:text-purple-600 cursor-pointer" onclick="setQuery(this)">
            ‚Ä¢ ‡πÄ‡∏û‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏°‡∏≤‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ï‡∏∑‡πà‡∏ô‡πÄ‡∏ï‡πâ‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á
          </li>
          <li class="hover:text-purple-600 cursor-pointer" onclick="setQuery(this)">
            ‚Ä¢ excited ‚Üí neutral ‚Üí excited ‚Üí neutral with high intensity
          </li>
          <li class="hover:text-purple-600 cursor-pointer" onclick="setQuery(this)">
            ‚Ä¢ neutral ‡∏ï‡∏•‡∏≠‡∏î‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏û‡∏•‡∏á calm and steady
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ -->
  {% if songs %}
    <h3 class="text-xl font-semibold mb-4">‚ú® ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      {% for s in songs %}
        <div class="bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow">
          <h4 class="font-bold text-lg mb-2">
            <a href="/song/{{ s[0] }}" class="hover:text-purple-600 transition-colors">
              {{ s[1] }}
            </a>
          </h4>
          <p class="text-sm text-gray-500 mb-3">
            üëÅ {{ s[2] }} ‚Ä¢ üëç {{ s[3] }} ‚Ä¢ üìÖ {{ s[4] }}
          </p>
          <div class="border rounded-lg p-2">
            {{ s[5]|safe }}
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    {% if request.method == "POST" %}
      <div class="text-center py-8">
        <p class="text-gray-500">‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÄ‡∏û‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö "{{ request.form['query'] }}"</p>
        <p class="text-sm text-gray-400 mt-2">‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏≠‡∏∑‡πà‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô</p>
      </div>
    {% endif %}
  {% endif %}
</div>

<script>
function setQuery(element) {
  const query = element.innerText.replace('‚Ä¢ ', '').trim();
  const input = document.querySelector('input[name="query"]');
  input.value = query;
  input.focus();
}
</script>
{% endblock content %}